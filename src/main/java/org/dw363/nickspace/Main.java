package org.dw363.nickspace;

import org.dw363.nickspace.listeners.PlayerEventListener;
import org.dw363.nickspace.utils.TeamManager;
import org.bukkit.Bukkit;
import org.bukkit.plugin.java.JavaPlugin;

import java.util.Random;

public class Main extends JavaPlugin {
    private final Random random = new Random();

    @Override
    public void onEnable() {
        // Выполняем действия только после полной загрузки сервера
        Bukkit.getScheduler().runTask(this, () -> {
            TeamManager.createOrGetTeam();
            getServer().getPluginManager().registerEvents(new PlayerEventListener(this), this);
            String[] enableMessages = {
                    "Плагин активирован! Пора творить магию!",
                    "Плагин активирован, осталось только поиграть!",
                    "Внимание! Плагин запущен, не отрывайтесь от игры!",
                    "Плагин включен, но игра ещё интереснее!",
                    "Всё включено, плагин работает! Вперёд, к победам!",
                    "Секреты игры теперь доступны! Плагин активирован!",
                    "Готовы к приключениям? Плагин включён!",
                    "Включение плагина завершено. Будь готов к веселью!",
                    "Плагин включен, захватим этот мир!",
                    "Всё включено! Погнали, игруха начинается!",
                    "Плагин активирован! Серьёзно, пора играть!",
                    "Не тормози, плагин активирован, хватай шанс!",
                    "Всё настроено, остаётся только победить!",
                    "Плагин работает, можно побеждать!",
                    "Плагин запущен, пора устроить веселье!",
                    "Готовы к эпичным приключениям? Плагин активирован!",
                    "Плагин активирован, вперед к великим делам!",
                    "Всё работает! Веселье начинается прямо сейчас!",
                    "Плагин включен, стартуем на полную катушку!",
                    "Мир ждёт твоих подвигов! Плагин активирован!",
                    "Секреты игры теперь открыты! Приятной игры!",
                    "Плагин активирован, можно и повеселиться!",
                    "Включение плагина завершено. Теперь можно побеждать!",
                    "Запустили плагин, и теперь игра становится эпичной!",
                    "Активирован, как супергерой! Играй без усталости!",
                    "Плагин готов, можно начинать квест!",
                    "Погнали! Плагин активирован, ждём твоих подвигов!",
                    "Плагин включен! Осталось только выиграть!",
                    "Готовы к весёлой борьбе? Плагин активирован!",
                    "Играйте с удовольствием! Плагин активирован!",
                    "Плагин активирован, пора раздавать лещей!",
                    "Сила плагина в действии! Погнали на полную!",
                    "Плагин активирован, играем по-крупному!",
                    "Ты готов к приключениям? Плагин включен!",
                    "Всё, что нужно для победы — плагин активирован!",
                    "Не тормози, вперед к новым свершениям!",
                    "Плагин включён, победа на горизонте!",
                    "Время для магии и побед! Плагин включён!",
                    "Плагин активирован, теперь можно захватывать мир!",
                    "Включение плагина завершено. Погнали!",
                    "Плагин включен! Не упусти шанс стать героем!",
                    "Твои победы начинаются здесь! Плагин активирован!",
                    "Включён, теперь можно побеждать на полную!",
                    "Всё готово, плагин активирован! Вперёд к победам!",
                    "Плагин включен, начинаем развлекаться!",
                    "Включено всё! Побеждай с нами!",
                    "Три, два, один… плагин активирован!",
                    "Включение плагина завершено, держись крепче!",
                    "Играйте весело! Плагин активирован!",
                    "Включен! Пора побеждать!",
                    "Плагин включён, теперь только победы!"
            };
            getLogger().info(enableMessages[random.nextInt(enableMessages.length)]);
        });
    }

    @Override
    public void onDisable() {
        String[] disableMessages = {
                "Плагин выключен, но не переживайте, скоро вернёмся!",
                "Всё, плагин выключен! До скорых встреч в игре!",
                "Плагин ушёл на перерыв, но скоро снова с вами!",
                "Закрытие плагина завершено, до новых встреч!",
                "Плагин выключен, но мы вернемся к вам скоро!",
                "Плагин завершил свою работу, ждём вас снова!",
                "Плагин выключен, не скучайте, мы скоро вернёмся!",
                "Всё выключено, но не переживайте, до скорого!",
                "Плагин завершил свою работу. Увидимся в следующий раз!",
                "Плагин выключен. Возвращайтесь, когда хотите повеселиться!",
                "Закрытие плагина завершено, до скорого возвращения!",
                "Плагин ушёл в отпуск, возвращайся, когда захочешь играть!",
                "Всё завершено, плагин выключен, до встречи!",
                "Процесс завершён, плагин выключен, но мы снова вернемся!",
                "Плагин завершил работу, ждём вашего возвращения!",
                "Прощай, плагин! Но мы скоро снова будем здесь!",
                "Плагин выключен. Надеемся, вы не забыли нас!",
                "Закрытие плагина завершено, а вы не уходите далеко!",
                "Плагин выключен, но мы скоро снова будем с вами!",
                "Всё завершено, плагин выключен. Вернемся позже!",
                "Плагин выключен, но у вас всегда будет возможность вернуться!",
                "Процесс завершён, плагин выключен, ждём вашего возвращения!",
                "Плагин выключен, не скучайте, до скорого!",
                "Всё выключено, плагин ушёл отдыхать. До скорого!",
                "Закрытие плагина завершено, до следующего раза!",
                "Плагин выключен, но его приключения не заканчиваются!",
                "Плагин ушёл на перерыв, не скучайте, мы вернёмся!",
                "Плагин выключен, но всегда рады видеть вас снова!",
                "Процесс завершён. Плагин выключен, до новых встреч!",
                "Закрытие плагина завершено. До следующего раза, герой!",
                "Плагин выключен. Не забывайте, мы скоро вернёмся!",
                "Всё завершено, плагин выключен, возвращайтесь снова!",
                "Плагин завершил свою работу, но мы снова встретимся!",
                "Процесс завершён, плагин выключен, до новых встреч!",
                "Плагин выключен, но скоро снова будем здесь для вас!",
                "Плагин завершил свою работу, ждём вас снова!"
        };
        getLogger().info(disableMessages[random.nextInt(disableMessages.length)]);
    }
}
